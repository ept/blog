<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head profile="http://gmpg.org/xfn/11">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>Ruby on Rails vs. Java Enterprise &mdash; Martin Kleppmann&rsquo;s blog</title>
    <link rel="stylesheet" type="text/css" media="screen, print, handheld" href="/css/typography.css" />
<link rel="stylesheet" type="text/css" media="screen" href="/css/style.css" />
<link rel="stylesheet" type="text/css" media="all" href="/css/pygments-default.css" />
<link rel="stylesheet" type="text/css" media="all" href="/css/ansi2html.css" />
<link rel="stylesheet" type="text/css" media="all" href="/css/customizations.css?5" />
<!--[if lt IE 8]>
    <link rel="stylesheet" href="/css/ie.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->
<link rel="alternate" type="application/rss+xml" title="RSS" href="http://feeds.feedburner.com/martinkl?format=xml" title="Martin Kleppmann's blog" />
<script type="text/javascript" async
    src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML">
</script>

</head>

<body class="wordpress">
    <div id="page">
        <p id="top">
    <a id="to-content" href="#content" title="Skip to content">Skip to content</a>
</p>

<div id="header">
    <div class="wrapper">
        <strong id="blog-title">
            <a href="/" title="Home" rel="home">Martin Kleppmann</a>
        </strong>
    </div>
</div>

<div id="sub-header">
    <div class="wrapper">
        <div id="navigation">
            <ul>
                <li class="page_item"><a href="/contact.html" title="About/Contact">About/Contact</a></li>
                <li class="page_item"><a href="/supporters.html" title="Supporters">Supporters</a></li>
            </ul>
        </div>
    </div>
</div>

<hr class="divider">


        <div class="wrapper">
            <div id="content">
                <h1>Ruby on Rails vs. Java Enterprise</h1>

                
                <p style="font-size: 80%">Published by Martin Kleppmann on 11 May 2008.</p>
                

                <p>Choosing a web application framework. Aaaaargh, the pain.</p>

<p>Ok, so we’re actually in a pretty lucky
situation right now: We have a new, substantial web development project, which we’re designing from
scratch. It’s for a feature-rich, complex web application, it has got to scale well, and it has got
to be maintainable. Those are the core requirements, and I thought they didn’t sound too demanding
really. Between us in the team we have experience in most of today’s common programming languages,
so that wasn’t an important point; what we wanted was the web framework which was <strong>objectively the
best</strong> given our requirements.</p>

<p>Most frameworks, it seemed, were essentially suitable only for toy
projects. There is a particularly ridiculous number of open-source web frameworks, and most of them
don’t appear to be widely used in real-world situations. When I say real world, I don’t mean your
average blog about kittens; I mean a site with at least <strong>100 million page views per month</strong> or so.
And I wanted the framework to be reasonably widely used, so that other people will have found the
fatal bugs and already fixed them before we come along.</p>

<p>This left me with three options which seemed to me to be worth taking seriously:</p>

<ul>
  <li>Java Platform Enterprise Edition (JEE)</li>
  <li>Ruby on Rails</li>
  <li>Microsoft ASP.NET</li>
</ul>

<p>Of course there are plenty more (Django came into
consideration, for example) but judging by the contents of the computer section of my local book
shop, those others must be pretty niche. Although ASP.NET looks like a reasonably well-designed
platform I had to unfortunately exclude it straight away, because I don’t want the risk of being
locked into a Microsoft platform (and I’m not yet sure how reliable Mono is).</p>

<p>So the showdown is
between <strong>Java Enterprise</strong> and <strong>Ruby on Rails</strong>, and the contenders could hardly differ more in
terms of their culture. In a nutshell, Ruby on Rails focuses on fast and agile development, while
Java Enterprise focuses on flexibility and integration with enterprise IT. In Ruby on Rails, the
common tasks are made very very simple, and if you stick within those common tasks, life as a
developer is bliss; in Java Enterprise, even the simplest jobs require you to write ugly XML
configuration or auto-generate boilerplate code. Ruby on Rails is what you’ll find on the servers of
a cool young Web 2.0 start-up; Java Enterprise is found in the IT nerve-centres of investment banks.
In a completely clichéd world view, Ruby on Rails hackers wear Jeans and T-Shirt, have a MacBook
and a Linux server, and have a lot of fun; while Java Enterprise software engineers wear suits, have
a Windows laptop and a Solaris server, and act very seriously. (I exaggerate.)</p>

<p>The instinctive
tendency here is obviously to go with the fun, informal start-up types than with the boring
corporate types. But wait, I was trying to make an objective decision, and the discussions about
these platforms are already quasi-religious and emotional enough.</p>

<p>I have tried to come up with a
list of criteria by which I want to judge these to frameworks. One by one, in no particular
order:</p>

<ul>
  <li><strong>Developer productivity and learning curve for new developers.</strong> Ruby on Rails
will get you started quicker, there’s not much doubt about that. In Java, I think the worst problem
for a newcomer is actually the massive choice of different libraries to use and different ways to do
the same thing – there doesn’t appear to be any combination of libraries which is particularly
widely used; instead every tutorial, every manual and every book you find will use a different
combination of technologies and libraries, which makes it particularly hard to learn the first
steps. Because there isn’t just one obviously right way of doing something in Java EE, developers
can spend a lot of time sorting out niggling little details, which slows them down and can be
demotivating. I believe that if there was a full standard distribution for Java EE (e.g.
Icefaces+JSF+Seam+EJB3+JPA+Hibernate+Glassfish, to name just one possible API stack out of thousands
of different combinations), people would write a lot more good documentation for that particular
stack, and it would become a lot easier for more developers to start using it effectively. With the
right tools and good documentation, productivity could potentially be about the same for Rails and
Java, but at the moment Java is shooting itself in the foot in this
regard.</li>
  <li><strong>Ease of recruiting good and motivated developers.</strong> I’ve not yet worked out how
the two frameworks compare in this point. There are not many people who know Ruby, but those two do
tend to be pretty passionate about it, so there’s an increased chance they will do a good job. Just
about every computer science student learns Java these days (except at a few misguided institutions
where they still teach C++), so there are plenty of Java developers around, although it’s not clear
how many of them are actually really
good.</li>
  <li><strong>Standardisation of platform.</strong> This point is a combination of the last two points.
If a lot of people use a platform, it is likely to be more stable, less buggy, better documented,
better designed, faster, more supported in the long term, more interoperable with other systems, and
so on. However, you can’t just judge by number of users – so many developers worldwide use plain
PHP, the poor souls, and probably don’t even realise that although their LAMP platform is a
quasi-standard, it’s complete rubbish for developing non-trivial
applications.</li>
  <li><strong>Manageability of a complex code base.</strong> This is the point where I
personally really appreciate statically typed programming languages (call me old-fashioned). With
Java in Eclipse, you can immediately search for the place where something is defined, you can
refactor class and method names without too much fear (except when you use Java names in XML files),
you get decent code completion, you know at compile-time which methods an object has (rather than
calling something speculatively which may or may not be there), and so on. Dynamically typed
scripting languages are great for prototyping and writing things quickly, but I find they start
getting a bit scary and tricky to handle once you go past a few thousand lines of
code.</li>
  <li><strong>Testability and robustness</strong> – i.e. “if I change something here, how likely is it
that I will break something at the other end of the application?”. Fortunately, both frameworks
offer reasonable support for automated regression testing; Ruby on Rails probably a bit more so,
because it relies primarily on automated tests (rather than a type system) to ensure things don’t
fall apart
horribly.</li>
  <li><strong>Scalability, stability and reliability.</strong> This is a pretty important one,
since any outage immediately gives a very bad impression to your users, and can potentially cost a
lot of money. However, it’s hard to get hold of accurate reports on how well the frameworks behave
in a harsh production environment, with a large number of concurrent users (hundreds of page views
per second) and a large database. I’m inclined to attribute better stability to Java because it’s
almost certainly used in corporates for more critical applications than Ruby is. Ruby on Rails, on
the other hand, has
<a href="http://www.techcrunch.com/2008/05/01/twitter-said-to-be-abandoning-ruby-on-rails/">had some pretty bad press</a> concerning
its scalability. The biggest RoR deployment at the moment is apparently
<a href="http://www.yellowpages.com/">Yellow Pages</a>; rather embarrassingly for both them and for Rails, this
site has actually been down for at least the last 12 hours as I write this
post.</li>
  <li><strong>Internationalisation and Unicode.</strong> There are translation features in both
frameworks, and they are both ok, although none really strikes me as brilliant. The bigger issue is
with Unicode support. I agree fully with
<a href="http://www.joelonsoftware.com/articles/Unicode.html">Joel Spolsky’s opinions in this matter</a> –
there is no such thing as 8-bit plain text. And yet, I could hardly believe my eyes,
<a href="http://wiki.rubyonrails.org/rails/pages/HowToUseUnicodeStrings">Ruby treats strings just as an array of
bytes</a>, 8 bits per character,
unspecified encoding. You can put UTF-8 in them, but then the standard string editing methods will
rip them up and make them invalid. For heaven’s sake, guys, we live in the 21st century! Do you not
want to sell your software worldwide or what? Ok, there are some UTF-8-safe methods, but you’ve got
to remember to call them explicitly. At least Java encourages you to specify an encoding when you
convert between byte streams and strings (although in my opinion it still isn’t radical enough –
all conversion methods without an explicit charset parameter ought to be marked as deprecated, to
make it really clear to the developer what they are
doing).</li>
  <li><strong>Toolchain support.</strong> Java has been around for a long time, and some pretty
powerful tools to support it have evolved in that time (we are using the commercial
<a href="http://www.myeclipseide.com/">MyEclipse</a> and it’s doing a good job for us). Ruby on Rails is
younger, but is actually quite well supported too due to its active developer community –
<a href="http://www.aptana.com/rails/">Aptana</a> is pretty neat, for
example.</li>
  <li><strong>Libraries for additional functionality.</strong> Since Java is so common, libraries for
it are also very common – pretty much whatever you want to do, you can download a jar file to do it
for you. With Ruby we’re not that far yet, but more and more libraries are being ported, so this is
not likely to be a very limiting
factor.</li>
  <li><strong>Ease of integration with back end.</strong> We’ve got some algorithmic, number-crunching
applications running in the background handling all the really clever technology. These are written
in Java, and the web framework has got to be able to communicate with them. If the web tier is also
in Java, that is easy; if it’s not, we have to write an explicit interface, but it’s not the end of
the world either.</li>
  <li><strong>Integrating with and impression on customers.</strong> Who’s your customer? If your
application is targeted at general consumers who will use it over the web, they don’t care what
framework you use as long as it works well. However, if the software is actually going to be
licensed to an enterprise where the IT department have to integrate it with their own systems, then
the technology matters. Not so much because of real difficulties (most integrations probably happen
on the database level anyway, so the application server is pretty irrelevant) but because they are
going to ask you what technology you use; if it’s different from what they use themselves, they will
suspect that it’s going to be more effort to integrate, which might become their excuse not to buy
from you.</li>
  <li><strong>Long-term support.</strong> In 3–5 years’ time, what will have happened to the software?
It may be that our application is still running, but will we still get security updates and bugfixes
for the framework? Will somebody come along and completely re-write the API so that we in turn have
to invest a lot in porting the application to the new API, or else risk running on an unsupported
platform? This is crystal ball gazing of course, but to be honest: Java Enterprise is backed by Sun,
and if there is one thing which big corporations tend to be good at, it’s <em>keeping things the way
they are</em>. With Rails I fear more about the changeability of the framework over time. That said,
the move from J2EE 1.4 to JEE 5 (two years ago today, incidentally) was pretty major, so maybe they
are both equally changeable.</li>
</ul>

<p>After all those points I’d like to finish off with a few
things which I would rather <strong>not</strong> have:</p>

<ul>
  <li><strong>Too much flexibility in combining technologies.</strong> Abstract APIs create an illusion
of portability – ok, so you think you can replace your PostgreSQL with Oracle by changing one line
in an XML configuration file. Really? Not even subtle differences in query semantics? And how often
are you going to make such a major change to the system like changing your database server? I don’t
think it’s exactly such a common case that it has to be optimised for. It’s not bad to have those
APIs, but they don’t add as much value as you might think at first. And as I mentioned above, having
too much choice about the components from which you can assemble your system implies a lack of
useful documentation and a slower learning curve for new
developers.</li>
  <li><strong>Boilerplate and duplicate code.</strong> You can create it with a code generation
tool, with a bit of luck you can even keep it up-to-date with that tool, but it’s still extremely
ugly and makes things harder to maintain. The main advantage of scripting languages in my mind is
that things like database model objects are defined at runtime rather than compile-time, eliminating
all that generated code. However, you then lose the static type system, so you can’t win on this
one.</li>
</ul>

<p>So where does that leave us? Do you have any further aspects or information which we
should consider, or any specific experience with these technologies? Let us know by the comments
below.</p>


                <div class="mailing-list-signup">
                    <p>If you found this post useful, please
                    <a href="https://www.patreon.com/martinkl">support me on Patreon</a>
                    so that I can write more like it!</p>
                    <p>
                    To get notified when I write something new,
                    <a href="https://nondeterministic.computer/@martin">follow me on Mastodon</a> or
                    <a href="https://twitter.com/martinkl">Twitter</a>,
                    or enter your email address:
                    </p>

                    <iframe src="https://martinkl.substack.com/embed" width="520" height="200" frameborder="0" scrolling="no"></iframe>

                    <p class="disclaimer">
                    I won't give your address to anyone else, won't send you any spam, and you can unsubscribe at any time.
                    </p>
                </div>

                <div id="disqus_thread"></div>
            </div>

            <div id="sidebar">
                <div id="carrington-subscribe" class="widget">
    <h2 class="widget-title">Subscribe</h2>
    <a class="feed" title="RSS 2.0 feed for posts" rel="alternate" href="http://feeds.feedburner.com/martinkl">
        Site <acronym title="Really Simple Syndication">RSS</acronym> feed
    </a>

    <div class="mailing-list-signup">
        <p>
            To find out when I write something new, sign up to receive an
            <a href="https://martinkl.substack.com/">email notification</a>,
            <a href="https://nondeterministic.computer/@martin">follow me on Mastodon</a> or
            <a href="https://twitter.com/martinkl">Twitter</a>, or subscribe to the
            <a href="http://feeds.feedburner.com/martinkl">RSS feed</a>.
        </p>

        <p class="disclaimer">
            I won't give your email address to anyone else, won't send you any spam,
            and you can unsubscribe at any time.
        </p>
    </div>
</div>

<div id="primary-sidebar">
    <div id="book-promo" class="widget">
        <h2 class="title">My book</h2>
        <p><a href="http://dataintensive.net" target="_top"><img src="/images/book-cover-small.png" border="0" alt="Designing Data-Intensive Applications" width="180" height="236"/></a></p>
        <p>My book,
        <a href="http://dataintensive.net"><em>Designing Data-Intensive Applications</em></a>, has received
        <a href="https://www.goodreads.com/book/show/23466395-designing-data-intensive-applications">thousands</a>
        of five-star reviews.</p>
    </div>

    <div class="widget">
        <p>I am a researcher working on <a href="https://www.inkandswitch.com/local-first/">local-first software</a>
        and security protocols at <a href="https://www.in.tum.de/en/in/cover-page/">TU Munich</a>.
        If you find my work useful, please
        <a href="https://www.patreon.com/martinkl">support me on Patreon</a>.</p>
    </div>
</div>

                





<div id="secondary-sidebar">
    <div class="widget">
        <h2 class="title">Recent posts</h2>
        <ul>
            
              <li>12 Oct 2022: <a href="/2022/10/12/verifying-distributed-systems-isabelle.html">Verifying distributed systems with Isabelle/HOL</a></li>
            
              <li>03 Jan 2022: <a href="/2022/01/03/future-of-fusion-energy.html">Book Review: The Future of Fusion Energy</a></li>
            
              <li>01 Sep 2021: <a href="/2021/09/01/podcast-interviews.html">Several podcast interviews</a></li>
            
              <li>14 Apr 2021: <a href="/2021/04/14/goodbye-gpl.html">It's time to say goodbye to the GPL</a></li>
            
              <li>23 Feb 2021: <a href="/2021/02/23/patreon.html">Building the future of computing, with your help</a></li>
            
            <li><a href="/archive.html">Full archive</a></li>
        </ul>
    </div>

    <div class="widget">
        <h2 class="title">Conference talks</h2>
        <ul>
            
              <li><a href="/2023/09/27/acm-tech-talks.html">27 Sep 2023 at ACM Tech Talks</a></li>
            
              <li><a href="/2023/09/22/strange-loop.html">22 Sep 2023 at Strange Loop</a></li>
            
              <li><a href="/2023/06/29/goto-amsterdam.html">29 Jun 2023 at GOTO Amsterdam</a></li>
            
              <li><a href="/2023/06/28/amsterdam-elixir.html">28 Jun 2023 at Amsterdam |> Elixir</a></li>
            
              <li><a href="/2022/04/29/hytradboi.html">29 Apr 2022 at Have You Tried Rubbing A Database On It? (HYTRADBOI)</a></li>
            
            <li><a href="/talks.html">Full archive</a></li>
        </ul>
    </div>
</div>

            </div>
        </div>

        <hr class="divider" />

<div id="footer">
    <div class="wrapper">
        <p id="generator-link">
            <a rel="license" href="http://creativecommons.org/licenses/by/3.0/"
                style="float: left; padding: 0.3em 1em 0 0;"><img alt="Creative Commons License"
                src="/images/creative-commons.png" width="88" height="31" /></a>
            Unless otherwise specified, all content on this site is licensed under a
            <a rel="license" href="http://creativecommons.org/licenses/by/3.0/">Creative Commons
                Attribution 3.0 Unported License</a>.
            Theme borrowed from
            <span id="theme-link"><a href="http://carringtontheme.com" title="Carrington theme for WordPress">Carrington</a></span>,
            ported to <a href="https://github.com/mojombo/jekyll">Jekyll</a> by Martin Kleppmann.
        </p>
    </div>
</div>

    </div>

    <script type="text/javascript">
    var disqus_shortname = 'martinkl';
    var disqus_url = 'http://martin.kleppmann.com/2008/05/11/ruby-on-rails-vs-java-enterprise.html';
    var disqus_identifier = disqus_url;

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>

</body>
</html>
