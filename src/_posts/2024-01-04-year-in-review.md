---
layout: ync-post
title: 2023 year in review
---

A lot has happened in the last year, so I thought it would be good to write up a review.

My biggest change in 2023 was that my wife and I had a baby! This has brought a mixture of joys and frustrations, but overall it has been very good. I took three months of full-time parental leave after the birth, and since going back to work I've been sharing the parenting with responsibilities with my partner. Family has therefore been my top priority, but I won't talk much about family things in this post, since I prefer to keep it private. Lots of work things happened as well:

## New job!

As of January 2024 I have a new job as [Associate Professor in Cambridge](https://www.cst.cam.ac.uk/news/new-associate-professor-computer-security-and-privacy)! Unlike all my previous academic positions, which were all fixed-term contracts of a few years, this is a permanent position. A huge number of people apply for this sort of position, and so I feel very fortunate that my colleagues had faith in my work and decided to choose me.

(Technically, I have to pass a 5-year probation period until the position is permanent, but I'm told that this is mostly a formality, and nothing like the problematic tenure-track system in the US.)

I've arranged to work part-time (65%) for the first year on the job, so that I can do a greater share of the parenting duties until our child goes to nursery (which we're hoping will be in approximately a year's time). Partly for this reason I've not been given any teaching duties for this academic year. However, I've been asked to offer a new master's module for next year, which will take some effort to prepare. I'm planning to do it on cryptographic protocols.

I had only started my previous job at TU Munich in October 2022, so it's a bit strange to leave again after just over a year. However, Cambridge is better for us for family reasons, and Cambridge was offering a permanent position whereas my job at TU Munich was fixed-term, so it made sense to move back to Cambridge.

The biggest downside of moving is that I have lost the [grant](https://portal.volkswagenstiftung.de/search/projectDetails.do?siteLanguage=en&ref=9B116) that brought me to Munich in the first place (since that grant requires me to be at a German university). That's a shame, because it was a lot of money – enough for two PhD students and a postdoc for several years. One of my first activities in Cambridge will therefore be to start applying for new grants. Ç'est la vie (académique).

## Research papers and projects

I had one big paper acceptance in 2023: our article "[Pudding: Private User Discovery in Anonymity Networks](https://arxiv.org/abs/2311.10825)" (with [Ceren Kocaoğullar](https://www.linkedin.com/in/cerenkocaogullar/), [Daniel Hugenroth](https://www.danielhugenroth.com/), and [Alastair Beresford](https://www.cl.cam.ac.uk/~arb33/)) was accepted at the [IEEE Symposium on Security and Privacy](https://sp2024.ieee-security.org/), which will take place in May 2024. This paper solves a problem with the [Loopix](https://www.usenix.org/conference/usenixsecurity17/technical-sessions/presentation/piotrowska)/[Nym](https://nymtech.net/) anonymity network: previously you had to somehow find out someone's public key in order to contact them on the network, and our work makes it possible to contact people via a short, friendly username instead (while preserving the security properties of the anonymity network).

[Matthew Weidner](https://mattweidner.com/) and I went through several iterations of our paper "[The Art of the Fugue: Minimizing Interleaving in Collaborative Text Editing](https://arxiv.org/abs/2305.00583)". The latest version is currently under submission at a journal, and a preprint is [available on arxiv](https://arxiv.org/abs/2305.00583). This paper tackles a problem in many collaborative text editing algorithms: when different users insert text at the same place in a document (especially while working offline), the algorithms may mix up text from the different users. Our paper shows how to solve this problem.

The paper "[Upwelling: Combining Real-time Collaboration with Version Control for Writers](https://www.inkandswitch.com/upwelling/)" (with [Rae McKelvey](https://okdistribute.xyz/), [Scott Jenson](https://jenson.org/), [Eileen Wagner](https://bumble.blue/), and [Blaine Cook](https://bcook.ca/)) appeared on the [Ink & Switch website](https://www.inkandswitch.com/) in March. We also submitted it to an academic conference, but it was rejected, so we're just keeping it as a web article. The paper describes a prototype rich text editor that combines Google-Docs-style real-time collaboration with Git-style version control features (branching, merging, diffing, and editing history).

My master's student [Liangrun Da](https://liangrunda.com/) published "[Extending JSON CRDT with move operations](https://arxiv.org/abs/2311.14007)", a report from a research project he did with me in 2023. The goal of this project was to develop a move operation for Automerge, which could be used to reorder items in a list, or to move a subtree of a JSON document to a different location in the tree. The algorithm is not yet fully implemented within Automerge, but we're hoping to get there this year.

My other master's student Leo Stewen's report "[Undo and Redo Support for Replicated Registers](https://github.com/TUM-DSE/research-work-archive/blob/main/archive/2023/summer/docs/gr_stewen_undo_and_redo_support_for_replicated_registers.pdf)" describes another algorithm prototype for Automerge – this one aiming to add support for undo and redo. This also turns out to not be entirely straightforward, especially when you consider the interaction with all the other features of Automerge.

## Industrial collaborations: Automerge and Bluesky

I've continued my long-standing collaboration with [Ink & Switch](https://www.inkandswitch.com/), in particular around the [Automerge](https://automerge.org/) open-source project. [Alex Good](https://www.memoryandthought.me/), who is funded by [Automerge sponsors](https://github.com/sponsors/automerge) and my [Patreon supporters](https://www.patreon.com/martinkl), works full-time to maintain the project for our industrial users, while several others at Ink & Switch and in the open source community have been making valuable contributions. I've moved into an advisory role and haven't been writing any actual code for the project lately.

The two biggest milestones for Automerge in 2023 were:

- The release of [Automerge 2.0](https://automerge.org/blog/automerge-2/), the rewrite of the original JavaScript code base in Rust. This has enabled huge performance improvements, and also made Automerge available on many more platforms: we compile Rust to WebAssembly and have a TypeScript/JavaScript [wrapper](https://automerge.org/docs/the_js_packages/) for web browsers and node, but we can also compile Rust to a native library and call it from [C](https://github.com/automerge/automerge/tree/main/rust/automerge-c), [Go](https://github.com/automerge/automerge-go), [Swift/iOS](https://automerge.org/automerge-swift/documentation/automerge/), [Java/Android](https://github.com/automerge/automerge-java), and others. The idea is to implement the hairy, performance-critical CRDT logic once in Rust, and then to have wrapper APIs for all common programming languages that all share the same data format and interoperate.
- Whereas Automerge itself is only an in-memory data structure library with no I/O, [Automerge-Repo](https://automerge.org/blog/2023/11/06/automerge-repo/) now provides out-of-the-box integrations with persistent storage (e.g. IndexedDB in a browser, and the filesystem in native apps) and with network protocols (e.g. WebSocket). Moreover, Automerge-Repo provides [integrations](https://github.com/automerge/automerge-repo) with frontend libraries (e.g. React and Svelte). Previously app developers had to figure out all of this for themselves, so Automerge-Repo is a huge step forward in terms of making it easier to build applications on top of Automerge.

My other ongoing industrial collaboration is with [Bluesky](https://blueskyweb.org/), a decentralised social network/protocol. Bluesky has had a tremendously successful year: launched into private beta in early 2023, it has grown to [3 million users](https://bsky.jazco.dev/stats) by the end of the year. I've been advising the team since the beginning (they started development about two years ago) on topics around scalability, protocol design, architecture, and security.

I also helped them write a research paper about the Bluesky architecture and comparing it to other decentralised social protocols; we'll be publishing that paper sometime in the next few months. I personally think Bluesky and the underlying [AT Protocol](https://atproto.com/) do many things much better than the alternatives, such as Mastodon/ActivityPub, and they have a real chance of becoming a mainstream Twitter successor. Bluesky wants to come out of private beta and open up public federation early this year; it's going to be an exciting time.

I still have some Bluesky invitation codes to give out. If I know you personally, feel free to send me an email and I'll send you a code. (Sorry, I don't have enough codes to give out to people I don't know.)

## Events, conferences, workshops

I co-organised three events last year:

- The first [summer school on Distributed and Replicated Environments](https://soft.vub.ac.be/dare23/) (DARE) in Brussels, Belgium. We had 40 master’s and PhD students from all over Europe, and a few from further afield as well. I gave four hours of lectures (plus lots more time spent in informal conversations), and I think we succeeded in getting the students excited about research in distributed systems. One of the attending master's students is now applying to do a PhD with me in Cambridge.
- An [unconference on local-first software](https://lu.ma/localfirstswunconf-stlouis) in St. Louis, MO, USA the day after Strange Loop. We had space for about 100 people and the event sold out surprisingly quickly. Sadly I couldn't be there because I caught covid at the summer school, but my co-organisers told me that there were excellent discussion among the attendees. Notes and photos from the event have been collected in [this Git repository](https://github.com/LoFiUnconf/stlouis2023).
- The [Programming Local-First Software](https://2023.splashcon.org/home/plf-2023) (PLF) workshop at SPLASH 2023 in Cascais, Portugal. This event aims to bring together industrial practitioners with researchers in the area of programming language design to discuss ways of improving how local-first software is developed. The event included a keynote by [Brooklyn Zelenka](https://github.com/expede), and we had 15 submissions from which we were able to build an interesting and varied programme of talks.

I also gave several public talks in 2023:

- At the [GOTO Amsterdam conference](/2023/06/29/goto-amsterdam.html) in June ([recording](https://www.youtube.com/watch?v=VJ_GeNfZXrQ)) I gave a talk introducing Automerge and local-first software to an audience of industrial software engineers, and I repeated the talk at the [Amsterdam Elixir meetup](/2023/06/28/amsterdam-elixir.html). 
- At the [Strange Loop conference](/2023/09/22/strange-loop.html) in September ([recording](https://www.youtube.com/watch?v=Mr0a5KyD6BU)) I spoke about the research we’ve done over the last few years on collaborative text editing, especially bringing together real-time collaboration with Git-style version control: diffing, branching, and merging (featuring [Upwelling](https://www.inkandswitch.com/upwelling/), [Automerge](https://automerge.org/), and [Peritext](https://www.inkandswitch.com/peritext/)). I had to give the talk remotely and I couldn’t see or hear the room, but I’m told that it was full, with standing room only.
- At the [KASTEL Distinguished Lecture Series](/2023/10/19/kastel-distinguished-lecture.html) in Karlsruhe, Germany ([recording](https://www.youtube.com/watch?v=VKHBRU3cKXw)) I spoke about the security challenges that arise when you try making collaboration software peer-to-peer, and you have to make it work even though you don’t know who you can trust.
- At the [ACM Tech Talks](/2023/09/27/acm-tech-talks.html) series ([recording](https://www.youtube.com/watch?v=VJ_GeNfZXrQ)) I gave a repeat of my GOTO Amsterdam talk, and there was a lively Q&A session afterwards with lots of good questions. There was a good turnout: around 400 people watched the talk live.
- At the IETF [Decentralization of the Internet Research Group](https://datatracker.ietf.org/meeting/118/session/dinrg) I gave a talk about local-first software. My collaborators and I have been discussing that we would like to eventually develop open standards for the protocols around local-first software (right now it's still too early, so this would be something to consider once they have matured a bit). I’m hoping that this talk might be the beginning of a process of engagement that could eventually lead to such a standardisation effort.

## Designing Data-Intensive Applications

[My book](https://dataintensive.net/) continues to sell well, with now over 230,000 copies sold, and reviews continue to be very positive. However, it is gradually showing its age – it was published in 2017, but I wrote the first few chapters around 2014/15, so they are now almost a decade old. Moreover, I have learnt a lot in the meantime, and there are quite a few things in the book that I would now say differently.

For that reason, I have been working on a second edition that brings the book up-to-date. However, my progress has been very slow, as I've had to fit in the research and writing for the second edition alongside my various other work and family commitments. I actually already agreed to do the second edition with O'Reilly in 2021, and the full manuscript was supposed to be complete by January 2023. Well… that didn't quite happen as planned.

In fact, I only properly started writing in 2023, and so far I've only completed the revision of the first three chapters. I'm much happier with the revised version, but it takes a lot of time to do such thorough revisions, so I'm not even going to try to give an updated completion date. I'd much rather take the time to make it good, however long it takes, rather than rush to meet some artificial deadline. And I'm in the lucky situation where I can get away with such a stance.

In case you're wondering what's changing in the second edition: I’m keeping the high-level structure and topics quite similar, but I’m rewriting a lot of the actual text to be easier to follow and more nuanced. I also collected a lot of reference material over the years (books, papers, blog posts, etc.); a large part of my time is spent reading that material and incorporating it into the narrative.

The biggest technological change since the first edition is probably that hosted cloud services are now a much bigger thing than they were a decade ago, and the resulting rise of “cloud-native” architecture. Other things: NoSQL as a buzzword is dead (though many of its ideas have been absorbed into mainstream systems), MapReduce is dead (replaced by cloud data warehouses, data lakes, and things like Spark), and GDPR arrived (though the degree to which it is influencing data systems architecture is still somewhat open).

## Local-first is taking off

Together with some colleagues from Ink & Switch I coined the term ["local-first"](https://www.inkandswitch.com/local-first/) in 2019 to describe the type of software we wanted to enable with Automerge and related projects. Initially the term was mostly used by ourselves and our direct collaborators, but in 2023 we have seen the idea catching on much more widely:

- More people have been writing about local-first, including [WIRED magazine in August](https://www.wired.com/story/the-cloud-is-a-prison-can-the-local-first-software-movement-set-us-free/), a [blog post by Kyle Mathews](https://bricolage.io/some-notes-on-local-first-development/) in September, and a [LWN.net article](https://lwn.net/Articles/902463/) last year. These articles capture some of the excitement surrounding local-first software.
- A website and Discord server on [local-first web development](https://localfirstweb.dev/) was set up by members of the community in February 2023, and now has over 1,600 members. To date this community has organised ten online meetups, each with several speakers who are working in the area.
- Besides the aforementioned [local-first unconference](https://lu.ma/localfirstswunconf-stlouis) in St. Louis and the [programming local-first workshop](https://2023.splashcon.org/home/plf-2023) in Cascais that I co-organised, there were also in-person local-first meetups in [Berlin](https://lu.ma/6mux94ll) and [London](https://guild.host/events/localfirst-software-dkh284) that were organised independently by community members.
- Local-first appears prominently in the October 2022 edition of the [Thoughtworks Technology Radar](https://www.thoughtworks.com/content/dam/thoughtworks/documents/radar/2022/10/tr_technology_radar_vol_27_en.pdf), an influential publication in enterprise software development circles.
- We've seen at least a dozen products and startups advertising themselves as "local-first" on their websites, including for example [Anytype](https://anytype.io/), [Fission](https://fission.codes/), [Replicache](https://replicache.dev/), [Mycelial](https://mycelial.com/), [ElectricSQL](https://electric-sql.com/), [Odd.dev](https://odd.dev/), [TinyBase](https://tinybase.org/), [Aphrodite](https://aphrodite.sh/), [DXOS](https://dxos.org/), [OrbitDB](https://github.com/orbitdb/orbit-db), [p2panda](https://p2panda.org/), [Socket Supply](https://socketsupply.co/guides/), and [KDE Itinerary](https://kde.org/for/travelers/).
- In academia the idea is also catching on: our original local-first article now has around [100 citations](https://scholar.google.com/scholar?cites=792121589490097600&as_sdt=2005&sciodt=0,5&hl=en) according to Google Scholar, 15 of which even use the term "local-first" in the paper title.

It's exciting that so many people are buying into the idea. Over the coming years I hope we will continue to grow this community, and realise the advantages of the local-first approach in a broader range of software.
